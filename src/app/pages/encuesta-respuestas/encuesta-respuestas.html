<section class="encuestas-admin">
  <div class="home-grid">
    <div class="about-card blue-skin">
      <div class="hero">
        <h2>Respuestas de la Encuesta</h2>
        <div class="hero-actions">
          <a routerLink="/home" class="btn">
            <i class="fa fa-arrow-left"></i> Volver
          </a>
          <button (click)="borrarEncuestas()" class="btn btn-danger">
            <i class="fa fa-trash"></i> Borrar Tabla
          </button>
        </div>
      </div>

      <div class="panel">
        @if (items$ | async; as items) {
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Fecha</th>
                <th>Usuario</th>
                <th>Nombre</th>
                <th>Edad</th>
                <th>Juego Favorito</th>
                <th>Sugerencia</th>
                <th>Comentario</th>
              </tr>
            </thead>
            <tbody>
              @for (e of items; track e.id) {
              <tr>
                <td>
                  @if (e.createdAt?.toDate) { {{ e.createdAt.toDate() |
                  date:'dd/MM/yy, HH:mm' }} } @else { - }
                </td>
                <td>{{ e.email || e.uid }}</td>
                <td>{{ e.nombre }}</td>
                <td>{{ e.edad }}</td>
                <td>{{ e.juegoFavorito }}</td>
                <td>{{ e.sugerenciaJuego || '-' }}</td>
                <td class="comment">{{ e.comentario }}</td>
              </tr>
              } @empty {
              <tr>
                <td class="empty" colspan="7">Sin respuestas a√∫n</td>
              </tr>
              }
            </tbody>
          </table>
        </div>
        } @else {
        <p>Cargando respuestas...</p>
        }
      </div>
    </div>
  </div>
</section>
